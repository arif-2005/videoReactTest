(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n.n(a),o=n(55),l=n.n(o),c=(n(66),n(39)),s=n(61),d=n(2),u=n.n(d),h=n(5),f=n(16),p=n(17),b=n(21),m=n(20),v=n(34),g=n(3),j=n(38),x=n(35),w=["title","titleId"];function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function k(e,t){var n=e.title,i=e.titleId,o=y(e,w);return a.createElement("svg",O({viewBox:"0 0 24 24",width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?a.createElement("title",{id:i},n):null,r||(r=a.createElement("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)"},a.createElement("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),a.createElement("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),a.createElement("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),a.createElement("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"}))))}var S=a.forwardRef(k),C=(n.p,n(1));function E(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(void 0),l=Object(j.a)(o,2),c=l[0],s=l[1],d=function(){var e=Object(h.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tokenId,e.next=3,fetch("/gAuth",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({token:n})}).then((function(e){e.json().then((function(t){200===e.status&&console.log("Successfully Authonticated."),201===e.status&&console.log("Successfully Registered"),500===e.status&&console.error("Failed to Authonticate"),p()}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/logout",{method:"POST",headers:{"content-type":"application/json"}}).then((function(e){e.json().then((function(t){200===e.status&&(console.log("Successfully logged out"),s(!1))}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function p(){fetch("/gAuth-cookie",{method:"POST",headers:{"content-type":"application/json"}}).then((function(e){e.json().then((function(e){e.isAuth?s(!0):s(!1)}))}))}return Object(a.useEffect)((function(e){window.localStream&&window.localStream.getTracks().forEach((function(e){e.stop()})),p()}),[]),Object(C.jsxs)("div",{className:"h-full",children:[Object(C.jsx)("div",{className:"text-center font-extrabold text-4xl px-5",children:"Welcome To The ChatCord Video Meeting"}),!1===c?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"font-bold p-6 text-2xl",children:"Login to continue ..."}),Object(C.jsx)(x.GoogleLogin,{clientId:"238100528248-vhcd4fi9uhgas0b0ckl3moep9tma3hjc.apps.googleusercontent.com",render:function(e){return Object(C.jsxs)("button",{onClick:e.onClick,disabled:e.disabled,style:{width:"184px",height:"42px",backgroundColor:"#4285f4",borderRadius:"2px",boxShadow:"0 3px 4px 0 rgba(0,0,0,.25)"},className:"relative ml-7 disabled:opacity-50",children:[Object(C.jsx)("div",{style:{position:"absolute",top:0,left:0,marginTop:"2px",marginLeft:"2px",width:"38px",height:"38px",borderRadius:"2px",backgroundColor:"#fff"},children:Object(C.jsx)(S,{style:{position:"absolute",marginTop:"9px",marginLeft:"9px",width:"18px",height:"18px"}})}),Object(C.jsx)("p",{className:"font-semibold",style:{float:"right",color:"#fff",fontSize:"15px",letterSpacing:"0.2px",fontFamily:'"Roboto"',width:"142px"},children:"Sign in with Google"})]})},buttonText:"Login",onSuccess:d,onFailure:d,cookiePolicy:"single_host_origin",isSignedIn:r}),Object(C.jsxs)("div",{className:"ml-7 mt-3",children:[Object(C.jsx)("p",{className:"inline-block align-top pr-2",children:"Keep me signed in : "}),Object(C.jsx)("input",{className:"inline-block align-middle cursor-pointer w-5 h-5",type:"checkbox",checked:r,onChange:function(e){i(!r)}})]})]}):!0===c?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(x.GoogleLogout,{clientId:"238100528248-vhcd4fi9uhgas0b0ckl3moep9tma3hjc.apps.googleusercontent.com",render:function(e){return Object(C.jsxs)("button",{onClick:e.onClick,disabled:e.disabled,style:{width:"184px",height:"42px",backgroundColor:"#4285f4",borderRadius:"2px",boxShadow:"0 3px 4px 0 rgba(0,0,0,.25)"},className:"relative ml-7 disabled:opacity-50",children:[Object(C.jsx)("div",{style:{position:"absolute",top:0,left:0,marginTop:"2px",marginLeft:"2px",width:"38px",height:"38px",borderRadius:"2px",backgroundColor:"#fff"},children:Object(C.jsx)(S,{style:{position:"absolute",marginTop:"9px",marginLeft:"9px",width:"18px",height:"18px"}})}),Object(C.jsx)("p",{className:"font-semibold",style:{float:"right",color:"#fff",fontSize:"15px",letterSpacing:"0.2px",fontFamily:'"Roboto"',width:"142px"},children:"Log Out"})]})},buttonText:"Logout",onLogoutSuccess:f})}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{})})]})}var I,N,A=n(60),T=n(18),P=n(56),F=n.n(P),M=n(57),D=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(f.a)(this,n),(r=t.call(this,e)).state={audioData:new Uint8Array(0)},r.tick=r.tick.bind(Object(T.a)(r)),r.canvas=i.a.createRef(),r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.audioContext.createAnalyser(),this.dataArray=new Uint8Array(this.analyser.frequencyBinCount),this.source=this.audioContext.createMediaStreamSource(window.localStream),this.source.connect(this.analyser),this.rafId=requestAnimationFrame(this.tick)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.rafId),this.analyser.disconnect(),this.source.disconnect()}},{key:"tick",value:function(){this.analyser.getByteTimeDomainData(this.dataArray),this.setState({audioData:this.dataArray}),this.rafId=requestAnimationFrame(this.tick)}},{key:"draw",value:function(){var e=this.state.audioData,t=this.canvas.current,n=t.height,r=t.width,a=t.getContext("2d"),i=0,o=1*r/e.length;a.lineWidth=2,a.strokeStyle="#000000",a.clearRect(0,0,r,n),a.beginPath(),a.moveTo(0,n/2);var l,c=Object(M.a)(e);try{for(c.s();!(l=c.n()).done;){var s=l.value/255*n;a.lineTo(2*i,s),i+=o}}catch(d){c.e(d)}finally{c.f()}a.lineTo(i,n/2),a.stroke()}},{key:"componentDidUpdate",value:function(){this.draw()}},{key:"render",value:function(){return Object(C.jsx)("canvas",{ref:this.canvas,className:this.props.className})}}]),n}(a.Component),V=n(58),L=n.n(V),z=(n(100),["title","titleId"]);function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function B(e,t){var n=e.title,r=e.titleId,i=R(e,z);return a.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,I||(I=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),N||(N=a.createElement("path",{d:"M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42-.39-.39-1.02-.39-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"})))}var U,q,W=a.forwardRef(B),J=(n.p,["title","titleId"]);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function G(e,t){var n=e.title,r=e.titleId,i=Z(e,J);return a.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,U||(U=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),q||(q=a.createElement("path",{d:"M10.8 4.9c0-.66.54-1.2 1.2-1.2s1.2.54 1.2 1.2l-.01 3.91L15 10.6V5c0-1.66-1.34-3-3-3-1.54 0-2.79 1.16-2.96 2.65l1.76 1.76V4.9zM19 11h-1.7c0 .58-.1 1.13-.27 1.64l1.27 1.27c.44-.88.7-1.87.7-2.91zM4.41 2.86L3 4.27l6 6V11c0 1.66 1.34 3 3 3 .23 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.55-.9l4.2 4.2 1.41-1.41L4.41 2.86z"})))}var K,X,_=a.forwardRef(G),Q=(n.p,["title","titleId"]);function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function te(e,t){var n=e.title,r=e.titleId,i=ee(e,Q);return a.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,K||(K=a.createElement("g",null,a.createElement("rect",{fill:"none",height:24,width:24}),a.createElement("rect",{fill:"none",height:24,width:24}),a.createElement("rect",{fill:"none",height:24,width:24}))),X||(X=a.createElement("g",null,a.createElement("g",null),a.createElement("g",null,a.createElement("path",{d:"M12,14c1.66,0,3-1.34,3-3V5c0-1.66-1.34-3-3-3S9,3.34,9,5v6C9,12.66,10.34,14,12,14z"}),a.createElement("path",{d:"M17,11c0,2.76-2.24,5-5,5s-5-2.24-5-5H5c0,3.53,2.61,6.43,6,6.92V21h2v-3.08c3.39-0.49,6-3.39,6-6.92H17z"})))))}var ne,re,ae=a.forwardRef(te),ie=(n.p,["title","titleId"]);function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function le(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ce(e,t){var n=e.title,r=e.titleId,i=le(e,ie);return a.createElement("svg",oe({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,ne||(ne=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),re||(re=a.createElement("path",{d:"M20 4v13.17L18.83 16H4V4h16m0-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 10H6v2h12v-2zm0-3H6v2h12V9zm0-3H6v2h12V6z"})))}var se,de,ue=a.forwardRef(ce),he=(n.p,["title","titleId"]);function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function be(e,t){var n=e.title,r=e.titleId,i=pe(e,he);return a.createElement("svg",fe({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,se||(se=a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),de||(de=a.createElement("path",{d:"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"})))}var me,ve,ge=a.forwardRef(be),je=(n.p,["title","titleId"]);function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Oe(e,t){var n=e.title,r=e.titleId,i=we(e,je);return a.createElement("svg",xe({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,me||(me=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),ve||(ve=a.createElement("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.11-.9-2-2-2H4c-1.11 0-2 .89-2 2v10c0 1.1.89 2 2 2H0v2h24v-2h-4zm-7-3.53v-2.19c-2.78 0-4.61.85-6 2.72.56-2.67 2.11-5.33 6-5.87V7l4 3.73-4 3.74z"})))}var ye,ke,Se=a.forwardRef(Oe),Ce=(n.p,["title","titleId"]);function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ne(e,t){var n=e.title,r=e.titleId,i=Ie(e,Ce);return a.createElement("svg",Ee({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,ye||(ye=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),ke||(ke=a.createElement("path",{d:"M4.01 6.03l7.51 3.22-7.52-1 .01-2.22m7.5 8.72L4 17.97v-2.22l7.51-1M2.01 3L2 10l15 2-15 2 .01 7L23 12 2.01 3z"})))}var Ae,Te=a.forwardRef(Ne),Pe=(n.p,["title","titleId"]);function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function De(e,t){var n=e.title,r=e.titleId,i=Me(e,Pe);return a.createElement("svg",Fe({xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Ae||(Ae=a.createElement("g",null,a.createElement("path",{d:"M0,0h24v24H0V0z",fill:"none"}),a.createElement("path",{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"}))))}var Ve,Le=a.forwardRef(De),ze=(n.p,["title","titleId"]);function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Re(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Be(e,t){var n=e.title,r=e.titleId,i=Re(e,ze);return a.createElement("svg",He({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Ve||(Ve=a.createElement("path",{d:"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z"})))}var Ue,qe,We=a.forwardRef(Be),Je=(n.p,["title","titleId"]);function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ze(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ge(e,t){var n=e.title,r=e.titleId,i=Ze(e,Je);return a.createElement("svg",Ye({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Ue||(Ue=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),qe||(qe=a.createElement("path",{d:"M21.22 18.02l2 2H24v-2h-2.78zm.77-2l.01-10c0-1.11-.9-2-2-2H7.22l5.23 5.23c.18-.04.36-.07.55-.1V7.02l4 3.73-1.58 1.47 5.54 5.54c.61-.33 1.03-.99 1.03-1.74zM2.39 1.73L1.11 3l1.54 1.54c-.4.36-.65.89-.65 1.48v10c0 1.1.89 2 2 2H0v2h18.13l2.71 2.71 1.27-1.27L2.39 1.73zM7 15.02c.31-1.48.92-2.95 2.07-4.06l1.59 1.59c-1.54.38-2.7 1.18-3.66 2.47z"})))}var Ke,Xe,_e=a.forwardRef(Ge),Qe=(n.p,["title","titleId"]);function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function et(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tt(e,t){var n=e.title,r=e.titleId,i=et(e,Qe);return a.createElement("svg",$e({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Ke||(Ke=a.createElement("path",{d:"M0 0h24v24H0zm0 0h24v24H0z",fill:"none"})),Xe||(Xe=a.createElement("path",{d:"M21 6.5l-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"})))}var nt,rt,at=a.forwardRef(tt),it=(n.p,["title","titleId"]);function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ct(e,t){var n=e.title,r=e.titleId,i=lt(e,it);return a.createElement("svg",ot({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,nt||(nt=a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),rt||(rt=a.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"})))}var st=a.forwardRef(ct),dt=(n.p,n.p+"static/media/horse.feca5bad.ogv"),ut=console.error,ht={},ft={},pt={iceServers:[{urls:"stun:stun.l.google.com:19302"}]},bt=null,mt=null,vt=1,gt=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(f.a)(this,n),(r=t.call(this,e)).getPermissions=function(){var e=Object(h.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){r.videoAvailable=!0,e.oninactive=function(){console.log("Camera Failed")}})).catch((function(e){r.videoAvailable=!1,ut("Video Permission Denied\n",e)}));case 3:return e.next=5,navigator.mediaDevices.getUserMedia({audio:!0}).then((function(){return r.audioAvailable=!0})).catch((function(e){r.audioAvailable=!1,ut("Audio Permission Denied\n",e)}));case 5:if(navigator.mediaDevices.getDisplayMedia?r.setState({screenAvailable:!0}):(r.setState({screenAvailable:!1}),ut("ScreenShare Permission Denied")),!r.videoAvailable&&!r.audioAvailable){e.next=11;break}return e.next=9,navigator.mediaDevices.enumerateDevices().then((function(e){r.setState({videoDevices:e.filter((function(e){return"videoinput"===e.kind}))}),r.setState({audioInDevices:e.filter((function(e){return"audioinput"===e.kind}))}),r.setState({audioOutDevices:e.filter((function(e){return"audiooutput"===e.kind}))})})).catch(ut);case 9:return e.next=11,navigator.mediaDevices.getUserMedia({video:r.videoAvailable,audio:r.audioAvailable}).then((function(e){r.setState({video:r.videoAvailable,audio:r.audioAvailable}),window.localStream=e,r.localVideoref.current.srcObject=e,e.onended=function(){console.log("camera removed")}})).catch(ut);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ut(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),r.init=Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:r.videoAvailable,audio:r.audioAvailable}).then((function(e){window.localStream=e,r.localVideoref.current.srcObject=e,e.onended=function(){console.log("camera removed")}})).catch(ut);case 2:r.state.audio?r.setState({audio:!1},(function(){r.handleAudio()})):(console.log("init"),r.setState({audio:!0},(function(){r.handleAudio()}))),r.state.video||r.setState({video:!0},(function(){r.handleVideo()})),r.connectTotheSocketServer();case 5:case"end":return e.stop()}}),e)}))),r.getNewStream=function(){var e=Object(h.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia(t).then((function(e){r.newStream=e})).catch(ut);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.createStream=function(){var e=Object(h.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new MediaStream(t),window.localStream=n,r.localVideoref.current.srcObject=n,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleAudio=function(e){r.setState({audio:!r.state.audio},(function(){if(r.state.audio)r.audioAvailable&&r.audioTracks.forEach((function(e){window.localStream.addTrack(e)}));else{var e=window.localStream.getAudioTracks();r.audioTracks=e,e.forEach((function(e){window.localStream.removeTrack(e)}))}}))},r.handleVideo=function(e){r.setState({video:!r.state.video},(function(){if(r.state.video)r.videoAvailable&&(r.videoTracks.forEach((function(e){window.localStream.addTrack(e)})),r.localVideoref.current.style.opacity=1);else{var e=window.localStream.getVideoTracks();r.videoTracks=e,e.forEach((function(e){window.localStream.removeTrack(e)})),r.localVideoref.current.style.opacity=0}}))},r.screenShare=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.state.screen){e.next=21;break}if(!navigator.mediaDevices.getDisplayMedia){e.next=19;break}return e.prev=2,e.next=5,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});case 5:n=e.sent,r.screenTracks=n.getTracks(),a=window.localStream.getVideoTracks(),r.videoTracks=a,a.forEach((function(e){window.localStream.removeTrack(e)})),n.getTracks().forEach((function(e){window.localStream.addTrack(e)})),n.oninactive=function(e){n.getTracks().forEach((function(e){window.localStream.removeTrack(e)})),a.forEach((function(e){window.localStream.addTrack(e)})),this.setState({screen:!1})}.bind(Object(T.a)(r)),r.setState({screen:!0}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),r.screenTracks.forEach((function(e){window.localStream.removeTrack(e),e.stop()})),r.videoTracks.forEach((function(e){window.localStream.addTrack(e)}));case 19:e.next=24;break;case 21:r.screenTracks.forEach((function(e){window.localStream.removeTrack(e),e.stop()})),r.videoTracks.forEach((function(e){window.localStream.addTrack(e)})),r.setState({screen:!1});case 24:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),r.handleChange=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,i,o,l,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("video"!==t.target.name){e.next=13;break}return n=t.target.value,r.setState({currentVideoDevice:n}),a={video:{deviceId:n}},e.next=6,r.getNewStream(a);case 6:window.localStream.getVideoTracks().forEach((function(e){window.localStream.removeTrack(e)})),i=r.newStream.getVideoTracks(),r.videoTracks=i,i.forEach((function(e){window.localStream.addTrack(e)})),e.next=27;break;case 13:if("audioIn"!==t.target.name){e.next=26;break}return o=t.target.value,r.setState({currentAudioInDevice:o}),l={audio:{deviceId:o}},e.next=19,r.getNewStream(l);case 19:window.localStream.getAudioTracks().forEach((function(e){window.localStream.removeTrack(e)})),c=r.newStream.getAudioTracks(),r.audioTracks=c,r.state.audio&&c.forEach((function(e){window.localStream.addTrack(e)})),e.next=27;break;case 26:"audioOut"===t.target.name&&(s=t.target.value,r.setState({currentAudioOutDevice:s}),document.querySelectorAll("video").forEach((function(e){"undefined"!==typeof e.sinkId&&(e.setSinkId(t.target.value).then().catch(ut),r.localAudioTestref.current.setSinkId(t.target.value).then().catch(ut))})));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.audioVisulaizer=function(){var e=Object(h.a)(u.a.mark((function e(t,n){var r,a,i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){requestAnimationFrame(l),i.getByteFrequencyData(a),o.forEach((function(e,t){e.style.setProperty("height",a[t]/255*(1+t/3))}))},r=new AudioContext,a=new Uint8Array(12),i=new AnalyserNode(r,{fftSize:Math.max(12,32),maxDecibels:-20,minDecibels:-80,smoothingTimeConstant:.8}),o=Array.from({length:3},(function(e,t){var r=document.createElement("div");return r.className="rounded-full bg-white min-h-1 w-1 inline-block space-x-0.5",n.appendChild(r),r})),e.next=7,t.getAudioTracks();case 7:0!==e.sent.length&&(r.createMediaStreamSource(t),t.connect(i),l());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.changeCssVideos=function(e){var t=e.offsetWidth,n=e.offsetHeight,r=20,a=20;25*t/100<300&&(r=25),33.33*t/100<300&&(r=33.33),50*t/100<300&&(r=50),100*t/100<300&&(r=100),25*n/100<150&&(a=25),33.33*n/100<150&&(a=33.33),50*n/100<150&&(a=50),100*n/100<150&&(a=100);var i=100/vt,o=0;0===vt||1===vt?(o=100,i=100):2===vt&&100===r?(o=50,i=50):2===vt?(o=50,i=100):3===vt||4===vt?(o=50,i=50):5===vt||6===vt?(o=33.33,i=50):vt>=7&&vt<=9?(o=33.33,i=33.33):vt>=10&&vt<=12?(o=25,i=33.33):vt>=13&&vt<=16?(o=25,i=25):vt>=17&&vt<=20?(o=20,i=25):vt>=21&&vt<=25?(o=20,i=20):o=100/vt;for(var l=r>=o?r:o,c=a>=i?a:i,s=~~(100/l)*~~(100/c),d=~~(100/l)*(~~(100/c)-1),u=e.querySelectorAll("div.victim"),h=document.getElementById("scrollOthers"),f=0;f<u.length;++f)u[f].style.minWidth=String(r)+"%",u[f].style.minHeight=String(a)+"%",u[f].style.setProperty("width",String(o)+"%"),u[f].style.setProperty("height",String(i)+"%");if(vt>s)for(var p=0;p<vt-d;p++){var b=Object.keys(ht)[Object.keys(ht).length-p-1],m=e.querySelector('[data-socket="'.concat(b,'"]'));console.log(Object.keys(ht),Object.keys(ht).length-p-1,b),null!==m&&(m.parentNode.removeChild(m),h.appendChild(m),h.style.setProperty("width","100%"),h.style.setProperty("height",String(c/2)+"%"),h.querySelectorAll("div.victim").forEach((function(e){e.style.height="100%"})),e.style.setProperty("height",String(100-c/2)+"%"))}else h.style.setProperty("height","0%"),e.style.setProperty("height","100%");return{minWidth:r,minHeight:a,width:o,height:i,obtainWidth:l,obtainHeight:c,widthMain:t,heightMain:n}},r.createVictim=function(e,t,n,a){var i=document.querySelector('[data-socket="'.concat(t,'"]'));if(null!==i)i.srcObject=e;else{vt++;var o=document.getElementById("main"),l=document.getElementById("scrollOthers"),c=r.changeCssVideos(o),s=~~(100/c.width)*~~(100/c.height),d=~~(100/c.width)*(~~(100/c.height)-1);console.log(c,s,d);var u=document.createElement("div"),h=document.createElement("div"),f=document.createElement("div"),p=document.createElement("div"),b=document.createElement("div"),m=document.createElement("video"),v=document.createElement("div");if(u.className="victim inline-block border-8 border-transparent",h.className="relative ring-2 h-full w-full rounded-lg overflow-hidden",h.style.backgroundColor="#222",f.className="absolute z-10 top-2 right-2 w-7 h-7 bg-blue-600 rounded-full flex justify-center items-center",r.audioVisulaizer(e,f),p.className="relative w-full h-full flex justify-center items-center",b.className="bg-cover bg-no-repeat w-28 h-28 rounded-full",b.style.backgroundImage="url('"+a+"')",m.disablePictureInPicture=!0,m.className="absolute top-0 left-0 w-full h-full object-center",m.style.backgroundColor="#222",m.srcObject=e,m.autoplay=!0,m.playsinline=!0,v.className="absolute bottom-1 left-1 text-lg font-bold bg-black bg-opacity-20 px-2 rounded-sm",v.innerText=n,u.style.minHeight=String(c.minHeight)+"%",u.style.minWidth=String(c.minWidth)+"%",u.style.setProperty("width",String(c.width)+"%"),u.style.setProperty("height",String(c.height)+"%"),u.setAttribute("data-socket",t),h.appendChild(f),p.appendChild(b),h.appendChild(p),h.appendChild(m),h.appendChild(v),u.appendChild(h),vt<=s)console.log("main input"),o.appendChild(u);else{console.log("scroll input");for(var g=0;g<vt-d;g++){var j=Object.keys(ht)[Object.keys(ht).length-g-1],x=o.querySelector('[data-socket="'.concat(j,'"]'));null===x||void 0===x||x.parentNode.removeChild(x),l.appendChild(x)}l.appendChild(u)}}},r.refreshPeer=function(){var e=function(e){ht[e].addStream(window.localStream),ht[e].createOffer().then((function(t){ht[e].setLocalDescription(t).then((function(){bt.emit("signal",e,JSON.stringify({sdp:ht[e].localDescription}))})).catch((function(e){return console.log(e)}))}))};for(var t in ht)e(t)},r.silence=function(){var e=new AudioContext,t=e.createOscillator(),n=t.connect(e.createMediaStreamDestination());return t.start(),e.resume(),Object.assign(n.stream.getAudioTracks()[0],{enabled:!1})},r.black=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=void 0===t?640:t,r=e.height,a=void 0===r?480:r,i=Object.assign(document.createElement("canvas"),{width:n,height:a});i.getContext("2d").fillRect(0,0,n,a);var o=i.captureStream();return Object.assign(o.getVideoTracks()[0],{enabled:!1})},r.gotMessageFromServer=function(e,t){var n=JSON.parse(t);console.log("signal"),e!==mt&&(n.sdp&&(console.log("sdp"),ht[e].setRemoteDescription(new RTCSessionDescription(n.sdp)).then((function(){"offer"===n.sdp.type&&ht[e].createAnswer().then((function(t){ht[e].setLocalDescription(t).then((function(){bt.emit("signal",e,JSON.stringify({sdp:ht[e].localDescription}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))),n.ice&&(console.log("ice"),ht[e].addIceCandidate(new RTCIceCandidate(n.ice)).catch((function(e){return console.log(e)}))))},r.connectTotheSocketServer=function(){(bt=F.a.connect("http://localhost:5000",{secure:!0,transport:["websocket"]})).on("signal",r.gotMessageFromServer),bt.on("connect",(function(){bt.emit("joinRoom",r.roomId,r.state.userId,r.state.userData,(function(e){console.log(e)})),mt=bt.id,bt.on("user-left",(function(e){delete ht[e];var t=document.querySelector('[data-socket="'.concat(e,'"]'));if(null!==t){vt--,t.parentNode.removeChild(t);var n=document.getElementById("main");r.changeCssVideos(n)}})),bt.on("userJoined",(function(e,t){if(Object.keys(t).forEach((function(e){if(e=t[e],ht[e.socketId]=new RTCPeerConnection(pt),ft[e.socketId]={name:e.name,picture:e.picture},ht[e.socketId].onicecandidate=function(t){null!=t.candidate&&bt.emit("signal",e.socketId,JSON.stringify({ice:t.candidate}))},ht[e.socketId].onaddstream=function(t){r.createVictim(t.stream,e.socketId,e.name,e.picture)},void 0!==window.localStream&&null!==window.localStream)ht[e.socketId].addStream(window.localStream);else{window.localStream=function(){var e;return new MediaStream([(e=r).black.apply(e,arguments),r.silence()])}(),ht[e.socketId].addStream(window.localStream)}})),e===mt){var n=function(e){if(e===mt)return"continue";try{ht[e].addStream(window.localStream)}catch(t){}ht[e].createOffer().then((function(t){ht[e].setLocalDescription(t).then((function(){bt.emit("signal",e,JSON.stringify({sdp:ht[e].localDescription}))})).catch((function(e){return console.log(e)}))}))};for(var a in ht)n(a)}})),bt.on("chat-message",(function(e,t,n,a){r.setState({msgArray:[].concat(Object(A.a)(r.state.msgArray),[{sender:t,message:e,id:n,time:a}])},(function(){var e=document.querySelector("div#msgHolder");null!==e&&(e.scrollTop=e.scrollHeight),console.log(r.state.msgArray)}))})),r.sendMessage=function(e){if(null!==r.state.message&&void 0!==r.state.message&&""!==r.state.message){var t=new Date,n=t.getHours(),a=t.getMinutes(),i="am";n>12&&(i="pm",n-=12),bt.emit("chat-message",r.state.message,r.state.userId,n+":"+a+i),r.setState({message:""}),document.getElementById("msgInput").focus()}}}))},r.cutCall=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t in ht)ht[t].close();window.localStream=null,window.location.reload();case 3:case"end":return e.stop()}}),e)}))),r.setUpTest=function(){var e=Object(h.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"video"!==t&&"menu"!==t||!0!==r.state.video||(r.localVideoTestref.current.srcObject=window.localStream);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.tick=function(e){var t=new Date,n=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();r.setState({time:n})},r.isChrome=function(){var e=(navigator&&(navigator.userAgent||"")).toLowerCase(),t=(navigator&&(navigator.vendor||"")).toLowerCase();return null!==(/google inc/.test(t)?e.match(/(?:chrome|crios)\/(\d+)/):null)},r.roomId=window.location.pathname.toLowerCase().replace("/room/",""),r.localVideoref=i.a.createRef(),r.localVideoTestref=i.a.createRef(),r.localAudioTestref=i.a.createRef(),r.videoAvailable=!1,r.audioAvailable=!1,r.audioTracks=[],r.videoTracks=[],r.screenTracks=[],r.newStream=null,r.sendMessage=null,r.state={userId:"Arif",userData:{},video:!1,audio:!1,screen:!1,audioInDevices:[],currentAudioInDevice:"",audioOutDevices:[],currentAudioOutDevice:"",videoDevices:[],currentVideoDevice:"",screenAvailable:!1,conformation:!0,message:"",messages:!1,msgArray:[],time:"",popup:!1,popupScreen:"menu"},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval((function(){return e.tick()}),1e3),fetch("/gAuth-cookie",{method:"POST",headers:{"content-type":"application/json"}}).then((function(t){t.json().then((function(t){t.isAuth?(e.getPermissions(),e.setState({userId:t.userId,userData:{name:t.username,picture:t.picture}})):e.props.history.push("/")}))}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID),window.localStream&&window.localStream.getTracks().forEach((function(e){e.stop()})),this.setState(null)}},{key:"render",value:function(){var e=this;return this.isChrome()?this.state.conformation?Object(C.jsxs)("div",{children:[Object(C.jsxs)("p",{className:"text-2xl font-extrabold p-3",children:["Join Room: ",this.roomId]}),Object(C.jsxs)("div",{className:"max-w-md mx-auto ring-2 my-3 relative rounded-lg",style:{backgroundColor:"#35363a",height:"260px"},children:[Object(C.jsx)("div",{className:"absolute z-10 top-2 right-2 w-7 h-7 bg-blue-600 rounded-full"}),Object(C.jsx)("div",{className:"relative w-full h-full",children:Object(C.jsx)("div",{className:"bg-cover bg-no-repeat w-28 h-28 rounded-full absolute top-50% left-50% -ml-14 -mt-14",style:{backgroundImage:"url('"+this.state.userData.picture+"')"}})}),Object(C.jsx)("video",{ref:this.localVideoref,disablePictureInPicture:!0,autoPlay:!0,muted:!0,className:"absolute top-0 left-0 w-full h-full object-center"}),Object(C.jsx)("div",{className:"absolute bottom-1 left-1 text-lg font-bold bg-black bg-opacity-20 px-2 rounded-md",children:this.state.userData.name})]}),Object(C.jsxs)("div",{className:"flex w-full flex-wrap justify-center",children:[Object(C.jsx)("button",{onClick:this.handleAudio,disabled:!window.localStream,className:"inline-block p-2 bg-red-500 hover:bg-red-400 rounded-full cursor-pointer m-1 disabled:opacity-50",children:this.state.audio?Object(C.jsx)(ae,{}):Object(C.jsx)(_,{})}),Object(C.jsx)("button",{onClick:this.handleVideo,disabled:!window.localStream,className:"inline-block p-2 bg-red-500 hover:bg-red-400 rounded-full cursor-pointer m-1 disabled:opacity-50",children:this.state.video?Object(C.jsx)(st,{}):Object(C.jsx)(at,{})}),Object(C.jsx)("button",{onClick:function(t){e.setState({conformation:!1},Object(h.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:case"end":return t.stop()}}),t)}))))},disabled:!window.localStream,className:"inline-block py-2 px-4 bg-red-500 hover:bg-red-400 disabled:opacity-50 rounded-full cursor-pointer m-1",children:"Join"})]})]}):Object(C.jsxs)("div",{className:"h-full w-full relative",children:[Object(C.jsxs)("div",{className:"align-top relative "+(this.state.messages?"inline-block":"block"),style:{width:this.state.messages?"calc(100% - 300px)":"100%",height:"calc(100% - 50px)"},children:[Object(C.jsxs)("div",{id:"main",className:"main h-full w-full relative p-2 justify-center flex flex-wrap ",children:[Object(C.jsx)(L.a,{onResize:function(t,n){return e.changeCssVideos(document.getElementById("main"))}}),Object(C.jsx)("div",{className:"victim inline-block border-8 border-transparent h-full w-full",children:Object(C.jsxs)("div",{className:"relative ring-2 rounded-lg overflow-hidden h-full w-full",style:{backgroundColor:"#222"},children:[Object(C.jsx)("div",{className:"relative w-full h-full flex justify-center items-center",children:Object(C.jsx)("div",{className:"bg-cover bg-no-repeat w-28 h-28 rounded-full",style:{backgroundImage:"url('"+this.state.userData.picture+"')"}})}),Object(C.jsx)("video",{ref:this.localVideoref,disablePictureInPicture:!0,autoPlay:!0,muted:!0,className:"absolute top-0 left-0 w-full h-full object-center",style:{backgroundColor:"#222"}}),Object(C.jsx)("div",{className:"absolute bottom-1 left-1 text-lg font-bold bg-black bg-opacity-20 px-2 rounded-md",children:this.state.userData.name})]})})]}),Object(C.jsx)("div",{id:"scrollOthers",className:"wrapperX flex flex-nowrap"})]}),this.state.messages?Object(C.jsx)("div",{className:"text-black inline-block absolute top-0 left-0 bg-white align-top w-full 600:rounded-lg 600:w-300px 600:relative",style:{height:"calc(100% - 50px)"},children:Object(C.jsxs)("div",{className:"relative h-full",children:[Object(C.jsx)("p",{className:"text-2xl p-1 font-extrabold border-b-2",children:"In Call Messages"}),Object(C.jsx)("p",{onClick:function(t){e.setState({messages:!1})},className:"absolute right-1 top-0 text-3xl cursor-pointer",style:{height:"42px"},children:"\u2a2f"}),Object(C.jsx)("div",{id:"msgHolder",className:"wrapperY-lite",style:{height:"calc(100% - 82px)"},children:this.state.msgArray.map((function(e,t){return Object(C.jsxs)("div",{className:"relative m-2 p-1 rounded-lg bg-gray-300 break-words",children:[Object(C.jsx)("p",{className:"text-lg font-bold",children:mt===e.id?"You":e.sender}),Object(C.jsx)("p",{className:"text-xs font-semibold text-gray-800 absolute top-1 right-1",children:e.time}),Object(C.jsx)("p",{className:"text-sm font-semibold",children:e.message})]},t)}))}),Object(C.jsxs)("div",{className:"w-full h-40px p-1",children:[Object(C.jsx)("input",{value:this.state.message,id:"msgInput",onChange:function(t){e.setState({message:t.target.value})},type:"text",placeholder:"Your Message...",className:"h-full rounded-lg bg-gray-300 placeholder-gray-700 px-2 align-top",style:{width:"calc(100% - 32px)"},onKeyDown:function(t){13===t.keyCode&&e.sendMessage()}}),Object(C.jsx)("div",{className:"inline-block w-32px h-full cursor-pointer",onClick:this.sendMessage,children:Object(C.jsx)(Te,{height:"100%",width:"100%",fill:"rgba(55, 65, 81, 1)"})})]})]})}):null,Object(C.jsxs)("div",{className:"Control wrapperX relative h-50px",children:[Object(C.jsxs)("div",{className:"hidden pl-1 h-full align-top 580:block text-lg font-bold",children:[this.state.time," | ",this.roomId]}),Object(C.jsxs)("div",{className:"block h-full w-192px align-top 580:absolute top-0 580:right-50% 580:-mr-96px py-5px",children:[Object(C.jsx)("button",{onClick:this.handleAudio,disabled:!window.localStream,className:"inline-block p-2 bg-btn hover:bg-red-500 rounded-full cursor-pointer mx-1 disabled:opacity-50",children:this.state.audio?Object(C.jsx)(ae,{}):Object(C.jsx)(_,{})}),Object(C.jsx)("button",{onClick:this.cutCall,className:"inline-block p-2 bg-btn hover:bg-red-500 rounded-full cursor-pointer mx-1",children:Object(C.jsx)(ge,{})}),Object(C.jsx)("button",{onClick:this.handleVideo,disabled:!window.localStream,className:"inline-block p-2 bg-btn hover:bg-red-500 rounded-full cursor-pointer mx-1 disabled:opacity-50",children:this.state.video?Object(C.jsx)(st,{}):Object(C.jsx)(at,{})}),this.state.screenAvailable&&Object(C.jsx)("button",{onClick:this.screenShare,disabled:!window.localStream,className:"inline-block p-2 bg-btn hover:bg-red-500 rounded-full cursor-pointer mx-1 disabled:opacity-50",children:this.state.screen?Object(C.jsx)(_e,{}):Object(C.jsx)(Se,{})})]}),Object(C.jsxs)("div",{className:"block h-full align-top absolute right-1 top-0 py-5px",children:[Object(C.jsx)("div",{onClick:function(t){e.setState({messages:!e.state.messages})},className:"inline-block p-2 bg-btn hover:bg-red-500 rounded-full cursor-pointer mx-1",children:Object(C.jsx)(ue,{})}),Object(C.jsx)("div",{onClick:function(t){e.setState({popup:!0},(function(){e.setUpTest(e.state.popupScreen)}))},className:"inline-block p-2 bg-btn hover:bg-red-500 rounded-full cursor-pointer mx-1",children:Object(C.jsx)(Le,{})})]})]}),this.state.popup&&Object(C.jsx)("div",{className:"Popup",children:Object(C.jsx)("div",{onClick:function(t){e.setState({popup:!1})},className:"Overlay absolute top-0 w-full h-full z-10 cursor-pointer bg-black bg-opacity-50 flex justify-center items-center",children:Object(C.jsxs)("div",{onClick:function(e){e.stopPropagation()},style:{maxWidth:"500px",maxHeight:"700px"},className:"relative z-20 p-2 bg-white text-black shadow-2xl ring-gray-400 hover:ring-4 h-full w-full sssm:h-70% sssm:w-60% sssm:rounded-xl sssm:animate-popup",children:[Object(C.jsxs)("div",{className:"border-b-2 border-gray-700 relative p-1",children:[Object(C.jsx)("p",{className:"text-2xl font-extrabold",children:"Settings"}),Object(C.jsx)("p",{onClick:function(t){e.setState({popup:!1})},className:"absolute right-1 top-0 text-3xl h-full",children:"\u2a2f"})]}),Object(C.jsxs)("div",{className:"w-full relative",style:{height:"calc(100% - 42px)"},children:[Object(C.jsxs)("div",{className:"w-full h-full block align-top sssm:inline-block sssm:w-30% sssm:border-r-2 border-gray-700",children:[Object(C.jsx)("div",{onClick:function(t){e.setState({popupScreen:"audio"})},className:"text-lg "+("audio"===this.state.popupScreen?"bg-gray-300":"bg-gray-200")+" align-middle pl-1",children:"Audio"}),Object(C.jsx)("div",{onClick:function(t){e.setState({popupScreen:"video"},(function(){e.setUpTest("video")}))},className:"text-lg "+("video"===this.state.popupScreen?"bg-gray-300":"bg-gray-200")+" align-middle pl-1",children:"Video"})]}),Object(C.jsxs)("div",{className:"wrapper w-full h-full "+("menu"===this.state.popupScreen?"hidden":"block")+" align-top absolute top-0 bg-white sssm:inline-block sssm:relative sssm:w-70% p-1",children:[Object(C.jsx)("div",{className:"block sssm:hidden",onClick:function(t){e.setState({popupScreen:"menu"})},children:Object(C.jsx)(W,{})}),"audio"===this.state.popupScreen?Object(C.jsxs)("div",{children:[this.state.audio?Object(C.jsx)(D,{className:"w-full h-28 border-2 border-black rounded-lg"}):null,Object(C.jsx)("label",{htmlFor:"audioIn",className:"font-bold",children:"Select Audio Source:"}),Object(C.jsx)("select",{onChange:this.handleChange,name:"audioIn",className:"border-2 border-black rounded-md p-2 w-full",children:this.state.audioInDevices.map((function(e,t){return Object(C.jsx)("option",{value:e.deviceId,children:e.label},t)}))}),Object(C.jsx)("label",{htmlFor:"audioOut",className:"font-bold",children:"Select Speaker Source:"}),Object(C.jsx)("div",{onClick:function(t){e.localAudioTestref.current.play()},className:"inline-block align-top px-1",children:Object(C.jsx)(We,{})}),Object(C.jsx)("audio",{ref:this.localAudioTestref,controls:!0,className:"hidden",children:Object(C.jsx)("source",{src:dt,type:"audio/mp3"})}),Object(C.jsx)("select",{onChange:this.handleChange,disabled:!("sinkId"in HTMLMediaElement.prototype),name:"audioOut",className:"border-2 border-black rounded-md p-2 w-full",children:this.state.audioOutDevices.map((function(e,t){return Object(C.jsx)("option",{value:e.deviceId,children:e.label},t)}))})]}):Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"w-full h-28 p-2",children:this.state.video?Object(C.jsx)("video",{ref:this.localVideoTestref,disablePictureInPicture:!0,autoPlay:!0,muted:!0,className:"w-full h-full object-center rounded-lg"}):Object(C.jsx)("div",{className:"border-2 border-black rounded-lg w-full h-full flex justify-center items-center font-bold text-base",children:"Your Vodeo Is Off"})}),Object(C.jsx)("label",{htmlFor:"video",className:"font-bold",children:"Select Video Source:"}),Object(C.jsx)("select",{onChange:this.handleChange,defaultValue:this.state.currentVideoDevice,name:"video",className:"border-2 border-black rounded-md p-2 w-full",children:this.state.videoDevices.map((function(e,t){return Object(C.jsx)("option",{value:e.deviceId,children:e.label},t)}))})]})]})]})]})})})]}):Object(C.jsx)("div",{className:"w-full h-full flex justify-center items-center text-center",children:Object(C.jsx)("div",{className:"text-3xl font-extrabold",children:"Sorry! This Only Works With Chrome Browser."})})}}]),n}(a.Component),jt=Object(g.g)(gt),xt=["children"];var wt=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(f.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/gAuth-cookie",{method:"POST",headers:{"content-type":"application/json"}}).then((function(e){e.json().then((function(e){r.setState({isAuth:e.isAuth})}))}));case 2:case"end":return e.stop()}}),e)}))),r.state={isAuth:!0},r}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=Object(s.a)(t,xt);return Object(C.jsx)(g.b,Object(c.a)(Object(c.a)({},r),{},{render:function(t){var r=t.location;return console.log(e.isAuth),e.state.isAuth?n:Object(C.jsx)(g.a,{to:{pathname:"/",state:{from:r}}})}}))}}]),n}(a.Component),Ot=function(){return Object(C.jsx)(v.a,{children:Object(C.jsxs)(g.d,{children:[Object(C.jsx)(g.b,{exact:!0,path:"/",component:E}),Object(C.jsx)(wt,{exact:!0,path:"/p",children:"Protection"}),Object(C.jsx)(g.b,{exact:!0,path:["/room/:url"],render:jt}),Object(C.jsx)(g.a,{to:"/"})]})})};l.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(Ot,{})}),document.getElementById("root"))},66:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.7ef6117f.chunk.js.map