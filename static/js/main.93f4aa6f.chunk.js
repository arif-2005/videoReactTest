(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(18),o=a.n(i),r=(a(25),a(19)),d=a(1),u=a(10),s=a.n(u),l=a(14),b=a(4),j=a(11),f=a(2);function v(e){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;var t=Object(n.useRef)(null),a=Object(n.useState)(),c=Object(j.a)(a,2),i=c[0],o=c[1],r=Object(n.useState)({audio:!0,video:!0}),d=Object(j.a)(r,2),u=d[0],v=d[1],p=Object(n.useState)({audio:[],video:[]}),O=Object(j.a)(p,2),h=O[0],m=O[1];var g=Object(n.useState)(0),x=Object(j.a)(g,2),y=x[0],k=x[1],w={};function M(e){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices().then((function(e){w={audioIn:e.filter((function(e){return"audioinput"===e.kind})),audioOut:e.filter((function(e){return"audiooutput"===e.kind})),video:e.filter((function(e){return"videoinput"===e.kind}))}}));case 2:a&&(y<w.video.length-1?k(y+1):k(0)),console.log(w.video.length),console.log(y),n={audio:{echoCancellation:!0},video:{deviceId:w.video[y].deviceId}},navigator.getUserMedia?navigator.getUserMedia(n,(function(e){t.current.srcObject=e,t.current.onloadedmetadata=function(e){t.current.play()},v(Object(b.a)(Object(b.a)({},u),{},{audio:!0})),o(e)}),(function(e){console.log("The following error occurred: "+e.name)})):console.log("getUserMedia not supported");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(l.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={video:{cursor:"always",displaySurface:"application"},audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}},!navigator.mediaDevices.getDisplayMedia){e.next=15;break}return e.prev=2,e.next=5,navigator.mediaDevices.getDisplayMedia(n);case 5:a=e.sent,t.current.srcObject=a,t.current.onloadedmetadata=function(e){t.current.play()},a.oninactive=function(){M()},o(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),M();case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){M()}),[]),Object(f.jsxs)("div",{className:"w-full h-80",children:[Object(f.jsxs)("div",{className:"relative w-full h-80 bg-black",children:[Object(f.jsx)("div",{className:"relative z-10 top-0 w-full h-full flex justify-center items-center",children:"hello"}),Object(f.jsx)("video",{id:"myVideo",ref:t,autoPlay:!0,playsInline:!0,className:"absolute top-0 z-20 w-full h-full object-center opacity-100"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(e){if(u.audio){var t=i.getAudioTracks();m(Object(b.a)(Object(b.a)({},h),{},{audio:t})),t.forEach((function(e){i.removeTrack(e)})),v(Object(b.a)(Object(b.a)({},u),{},{audio:!1}))}else h.audio.forEach((function(e){i.addTrack(e)})),v(Object(b.a)(Object(b.a)({},u),{},{audio:!0}))},disabled:!i,className:"px-4 py-2 bg-red-400 hover:bg-red-700 rounded-md m-2.5",children:u.audio?"Mute":"Unmute"}),Object(f.jsxs)("button",{onClick:function(e){if(u.video){var a=i.getVideoTracks();m(Object(b.a)(Object(b.a)({},h),{},{video:a})),a.forEach((function(e){i.removeTrack(e)})),v(Object(b.a)(Object(b.a)({},u),{},{video:!1})),t.current.style.opacity="0"}else h.video.forEach((function(e){i.addTrack(e)})),v(Object(b.a)(Object(b.a)({},u),{},{video:!0})),t.current.style.opacity="1"},disabled:!i,className:"px-4 py-2 bg-red-400 hover:bg-red-700 rounded-md m-2.5",children:["Video ",u.video?"Off":"On"]}),Object(f.jsx)("button",{onClick:function(e){M(!0)},disabled:!i,className:"px-4 py-2 bg-red-400 hover:bg-red-700 rounded-md m-2.5",children:"Camera Rotate"}),Object(f.jsx)("button",{onClick:function(){return N.apply(this,arguments)},disabled:!i,className:"px-4 py-2 bg-red-400 hover:bg-red-700 rounded-md m-2.5",children:"Share Screen"})]})]})}var p=function(){return Object(f.jsx)(r.a,{children:Object(f.jsxs)(d.d,{children:[Object(f.jsx)(d.b,{exact:!0,path:["/","home"],component:v}),Object(f.jsx)(d.a,{to:"/"})]})})};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(p,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.93f4aa6f.chunk.js.map