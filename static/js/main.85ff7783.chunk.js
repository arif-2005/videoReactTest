(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(17),i=n.n(o),r=(n(25),n(19)),d=n(1),u=n(13),s=n.n(u),l=n(18),b=n(6),j=n(10),f=n(2);function v(e){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;var t=Object(a.useRef)(null),n=Object(a.useState)(),c=Object(j.a)(n,2),o=c[0],i=c[1],r=Object(a.useState)({audio:!0,video:!0}),d=Object(j.a)(r,2),u=d[0],v=d[1],O=Object(a.useState)({audio:[],video:[]}),h=Object(j.a)(O,2),m=h[0],p=h[1],g={};var x=0;function y(e){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices().then((function(e){g={audioIn:e.filter((function(e){return"audioinput"===e.kind})),audioOut:e.filter((function(e){return"audiooutput"===e.kind})),video:e.filter((function(e){return"videoinput"===e.kind}))}}));case 2:t&&(x<g.video.length-1?x+=1:x=0),console.log(g.video.length),console.log(x),n={audio:{echoCancellation:!0},video:{deviceId:g.video[x].deviceId}},navigator.getUserMedia?navigator.getUserMedia(n,(function(e){var t=document.getElementById("myVideo");t.srcObject=e,t.onloadedmetadata=function(e){t.play()},i(e)}),(function(e){console.log("The following error occurred: "+e.name)})):console.log("getUserMedia not supported");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){y()}),[]),Object(f.jsxs)("div",{className:"w-full h-80",children:[Object(f.jsxs)("div",{className:"relative w-full h-80 bg-black",children:[Object(f.jsx)("div",{className:"relative z-10 top-0 w-full h-full flex justify-center items-center",children:"hello"}),Object(f.jsx)("video",{id:"myVideo",ref:t,autoPlay:!0,playsInline:!0,className:"absolute top-0 z-20 w-full h-full object-center opacity-100"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(e){if(u.audio){var t=o.getAudioTracks();p(Object(b.a)(Object(b.a)({},m),{},{audio:t})),t.forEach((function(e){o.removeTrack(e)})),v(Object(b.a)(Object(b.a)({},u),{},{audio:!1}))}else m.audio.forEach((function(e){o.addTrack(e)})),v(Object(b.a)(Object(b.a)({},u),{},{audio:!0}))},className:"px-4 py-2 bg-red-400 hover:bg-red-700 rounded-md m-2.5",children:u.audio?"Mute":"Unmute"}),Object(f.jsxs)("button",{onClick:function(e){if(u.video){var n=o.getVideoTracks();p(Object(b.a)(Object(b.a)({},m),{},{video:n})),n.forEach((function(e){o.removeTrack(e)})),v(Object(b.a)(Object(b.a)({},u),{},{video:!1})),t.current.style.opacity="0"}else m.video.forEach((function(e){o.addTrack(e)})),v(Object(b.a)(Object(b.a)({},u),{},{video:!0})),t.current.style.opacity="1"},className:"px-4 py-2 bg-red-400 hover:bg-red-700 rounded-md m-2.5",children:["Video ",u.video?"Off":"On"]}),Object(f.jsx)("button",{onClick:function(e){y(!0)},className:"px-4 py-2 bg-red-400 hover:bg-red-700 rounded-md m-2.5",children:"Camera Rotate"})]})]})}var O=function(){return Object(f.jsx)(r.a,{children:Object(f.jsxs)(d.d,{children:[Object(f.jsx)(d.b,{exact:!0,path:["/","home"],component:v}),Object(f.jsx)(d.a,{to:"/"})]})})};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(O,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.85ff7783.chunk.js.map